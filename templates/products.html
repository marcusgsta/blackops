{% include 'header.html' %}

<div class="container" role="main">
    <div class="row">
        <div class="col-md-6">
          <table class="table">
            <thead>
              <tr>
                <th>#</th>
                <th>Namn</th>
                <th>Typ</th>
                <th>Klassifikation</th>
                <th>Pris</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
                {{ product_table|safe }}
            </tbody>
          </table>
        </div>
    </div>
{% if message is defined %}
{{ message|safe }}
{% endif %}
<div class="row">
    <h3>Lägg till produkt</h3>
    <form role="form" method="POST" action="{{ url_for('products') }}">
        <div class="form-group">
            <label for="name">Namn: </label>
            <input type="text" name="name" class="form-control" />
        </div>
        <div class="form-group">
            <label for="classification">Klassifikation: </label>
        <select name="classification" class="form-control">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
        </select>
        </div>
        
        <div class="form-group">
       <label for="p_select">Produktkategori: </label>
        <select name="p_type" class="form-control">
        {% for category in list_of_categories %}
      <option value="{{ category }}">{{ category }}</option>
       {% endfor %}
        </select>
        </div>
        <div class="form-group specific">
            <label class="alt_specific" for="specific">Specific</label>
            <input type="text" name="specific" class="form-control" />
        </div>
        <div class="form-group">
            <label for="price">Pris: </label>
            <input type="number" name="price" class="form-control" />
        </div>
        <button type="submit" class="btn btn-default">Lägg till</button>
    </form>
        <!-- </div> -->
    </div>
</div>
<script>
document.addEventListener('DOMContentLoaded',function() {
    document.querySelector('select[name="p_type"]').onchange=changeEventHandler;
},false);

function changeSpecific(title) {
    document.getElementsByClassName('alt_specific')[0].firstChild.nodeValue = title;
    document.querySelector('.form-group.specific').style.display = 'inline';
    console.log(document.getElementsByClassName('alt_specific')[0].getAttribute("for"));
    }

function changeEventHandler(event) {
    // You can use “this” to refer to the selected element.
    
    p_type = event.target.value;

    switch (p_type) {
      case "car":
        changeSpecific("Typ av bil");
        break;
      case "clothes":    
        changeSpecific("Storlek");
        break;
      case "computer":
        changeSpecific("Operativsystem");
        break;
      case "diving":
        changeSpecific("Storlek");
        break;
      case "drone":
        changeSpecific("Typ av dron");
        break;
      case "firstaid":
        changeSpecific("Typ av förstahjälp");
        break;
      case "radio":    
        changeSpecific("Band");
        break;
      case "shoes":
        changeSpecific("Storlek");
        break;
      case "spyware":
        changeSpecific("Typ av spyware");
        break;
      case "weapon":
        changeSpecific("Typ av vapen");
        break;

      default:
        break;
        }
    
}




    
</script>
{% include 'footer.html' %}